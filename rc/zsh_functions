. ~/rc/shell_functions

function set_window_title() {
  local title=$1
  case $TERM in
    *xterm*|rxvt) print -Pn "\e]2;${prefix}:%~/\a" ;;
    screen*) print -Pn "\e_${USER}@${prefix}:%~\e\\" ;;
  esac
}

# Contents of ~/.hostname_alias if it exists else FQDN
function refresh_window_title() {
  local host="%M"
  [ -r ~/.hostname_alias ] && host=$(< ~/.hostname_alias)
  set_window_title "${USER}@${host}:%~"
}


function chpwd() {
  [[ -t 1 ]] && refresh_window_title
}
